<!doctype html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MONOCAL</title>
<meta name="author" content="Josh Avanier">
<meta name="description" content="JS implementation of Ian Battaglia's MONOCAL calendrical system">
<link href="styles.css" rel="stylesheet">

<div>
	<h1><a href="https://monochromatic.co/metachromatic/hub/2017/1/16/monocal-1" target="_blank">MONOCAL</a></h1>
	<p>Today is <span></span></p>
	<table>
		<tr>
			<td>Quarter</td>
			<td id="q"></td>
		</tr>
		<tr>
			<td>Month</td>
			<td id="m"></td>
		</tr>
		<tr>
			<td>Week</td>
			<td id="w"></td>
		</tr>
		<tr>
			<td>Day</td>
			<td id="d"></td>
		</tr>
	</table>
</div>

<script type="text/javascript" src="monocal.js"></script>
<script type="text/javascript">
function abbr(t) {
  return t.substring(0, 3).toUpperCase()
}

var cal = Monocal.convert()

document.getElementsByTagName("span")[0].innerHTML=Monocal.display.short(cal)

document.getElementById("q").innerHTML=cal.quarter + " (" + cal.quarterAlt + ")"
document.getElementById("m").innerHTML=cal.month
document.getElementById("w").innerHTML=cal.week
document.getElementById("d").innerHTML=cal.day

// var till = new Date(2017, 0, 1),
// 		daysOfYear = []
//
// for (var d = new Date(2016, 0, 1); d <= till; d.setDate(d.getDate() + 1)) {
// 	let date = new Date(d),
// 			nth = Monocal.getNthDay(date),
// 			month = Monocal.getMonth(nth),
// 			mond = Monocal.getDate(nth),
// 			result = ": " + month + " " + mond
//
// 	if (nth === 0) result = "Chomsky Day"
// 	if (nth === 365) result = "Leap Day"
//
//   daysOfYear.push(date)
//
// 	console.log(d.getMonth() + " " + d.getDate() + " " +  nth + result)
// }
</script>
