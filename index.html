<!doctype html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MONOCAL</title>
<meta name="author" content="Josh Avanier">
<meta name="description" content="JS implementation of Ian Battaglia's MONOCAL calendrical system">

<style>
	*{margin:0;padding:0}body{background-color:#2a292a;height:90vh;display:table;width:100%;font:16px/1.618 "Roboto Mono",monospace;color:#f5f5f5}div{display:table-cell;vertical-align:middle;text-align:center;padding:0 1.2em}h1{font-size:1.618em;margin-bottom:1.618em;font-weight:400}p{max-width:20em;margin:0 auto 2.0581em}table{width:20em;margin:0 auto 2.0581em;text-align:left}table td{width:50%;padding:0 .7862em}table td:nth-child(odd){text-align:right}a{color:#f5f5f5;text-decoration:none;border-bottom:1px solid}
</style>

<div>
	<h1><a href="https://monochromatic.co/metachromatic/hub/2017/1/16/monocal-1" target="_blank">MONOCAL</a></h1>
	<p>Today is <span></span></p>
	<table>
		<tr>
			<td>Quarter</td>
			<td id="q"></td>
		</tr>
		<tr>
			<td>Month</td>
			<td id="m"></td>
		</tr>
		<tr>
			<td>Week</td>
			<td id="w"></td>
		</tr>
		<tr>
			<td>Day</td>
			<td id="d"></td>
		</tr>
	</table>
</div>

<script>
var Monocal={months:"Chomsky Day;Unumium;Duomium;Tresium;Quattrium;Quintium;Sexium;Septium;Octium;Nonium;Decium;Undecium;Dudecium;Tredecium".split(";"),days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),quarters:["i.","ii.","iii.","iv."],quartersAlt:["air","water","fire","earth"],convert:function(a){var c=a.getFullYear(),b=Monocal.getNthDay(a);a=Monocal.getQuarter(b);var d=Monocal.getMonth(b),e=Monocal.getWeek(b),f=Monocal.getDate(b),b=Monocal.getDay(b);return{year:c,quarter:Monocal.quarters[a],
quarterAlt:Monocal.quartersAlt[a],month:Monocal.months[d],week:e,date:f,day:Monocal.days[b]}},getNthDay:function(a){a=a||new Date;var c=new Date(a.getFullYear(),0,0);return Math.floor((a-c)/864E5)},getDay:function(){return(new Date).getDay()},getDate:function(a){return a+1-28*Math.floor(a/28)},getWeek:function(a){return Math.floor(a/7)},getMonth:function(a){return Math.ceil(a/28)},getQuarter:function(a){return Math.ceil(Monocal.getWeek(a)/13)-1}};
function abbr(a){return a.substring(0,3).toUpperCase()}var cal=Monocal.convert(new Date);document.getElementsByTagName("span")[0].innerHTML=abbr(cal.day)+" "+cal.date+" "+abbr(cal.month)+" "+cal.year.toString().substr(-2);document.getElementById("q").innerHTML=cal.quarter+" ("+cal.quarterAlt+")";document.getElementById("m").innerHTML=cal.month;document.getElementById("w").innerHTML=cal.week;document.getElementById("d").innerHTML=cal.day
</script>
